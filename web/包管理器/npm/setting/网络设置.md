# 代理设置

由于众所周知的原因，在局域网内使用大多数包管理器都存在网络问题，使用`proxy`是一个常用解决方案。

npm的配置由文件驱动，位于`~/.npmrc`，可以编辑配置文件或命令行的方式配置代理。命令行配置如下：

```shell
npm config set proxy http://127.0.0.1:1081
npm config set https-proxy http://127.0.0.1:1081
```

也可以使用一次性的环境变量：

powershell:

```powershell
$Env:HTTP_PROXY = "http://127.0.0.1:1081"
$Env:HTTPS_PROXY = "http://127.0.0.1:1081"
```

bash:

```shell
export HTTP_PROXY="http://127.0.0.1:1081" && HTTPS_PROXY="http://127.0.0.1:1081"
```

# 使用npm镜像

npm镜像有两种使用方式，一种是配置为镜像，依然使用`npm`命令。另一种是使用镜像的专属命令，如`cnpm`。

## 方法1：配置镜像

略

## 方法2：使用`cnpm`（不推荐）

这个方法是使用[原淘宝的镜像站点](https://npmmirror.com/)的`cnpm`命令取代`npm`，优点是能解决因为非直连网络存在的block问题，缺点是**存在安全性问题**，同时也**存在一些兼容性问题**。

# 参考链接

[npm config proxy](https://docs.npmjs.com/cli/v8/using-npm/config#proxy)<br/>
[npm config https-proxy](https://docs.npmjs.com/cli/v8/using-npm/config#https-proxy)<br/>