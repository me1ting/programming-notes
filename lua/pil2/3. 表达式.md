# 表达式

## 算数表达式

唯一值得注意的是Lua的整除（`//`，向下整除，直到Lua5.3才添加）和取余数采取与Python相同的逻辑。

## 关系表达式

`~=`可能会遇到，表示不等于。

`table`,`userdata`和`函数`使用对象比较。

## 逻辑表达式

使用`and`,`or`,`not`，`false`和`nil`为假，支持短路。

## 字符串连接

```lua
hello = "hello " .. "world"
```

## table字面量

### 列表风格

```lua
numbers = {"One", "Two", "Three"}
print(numbers[1] == "One") -- true
```

以上字面量使用默认的索引：1,2...

### 记录风格

可以指定索引：

```lua
point = {x=1, y=2}
print(point.x) -- 1
print(point.y) -- 2

nums = {[0]=0} -- 非合法标识符需要用[]
print(nums[0]) -- 0
```

理解以下代码：

```lua
list = nil -- 反向链表
for line in io.lines() do
	list = {next=list, value=line} -- 每次创建一个新的对象
end
```

### 混合风格

```lua
points = {count = 4, {x=0,=0}, {x=-10,y=0}, {x=-10,y=1}, {x=0,y=1}}
print(points[1].x) -- 0
print(points[2].x) -- -10
```

