# string

在《pil2》中我们了解了string，这里做一些补充。

lua中的字符串具有以下特征：

- 面向ASCII（类似C/C++）
- 不可变
## 面向ACSII

lua的字符串是面向ASCII的，这一点类似C/C++，这是历史原因造成的。

从实现来讲，我们可以将字符串当作**不可修改的字节数组**，而lua仅提供了有限的支持。

## 操作符

长度操作符`#`获取字符串的长度（字节长度）。

连接操作符`..`连接字符串，返回新的字符串。

## 字面量

符号`'`和`"`都可以用于包含字符串字面量。

转义字符串支持：

- ASCII转义字符，包括：C风格的符号转义、C风格的8进制转义、C风格的16进制转义
- UTF-8转义字符，从lua5.3开始支持

支持长字符串，使用`[[`,`]]`符号。
## 标准库

值得关注的核心方法`string.gsub`，基本功能是全局替代字符串中的匹配内容，支持正则、函数式。

## Unicode的支持

lua5.3正式支持UTF-8，但类似C/C++一样的在表层上简单兼容：

- 前面提到的**UTF-8转义字符**
- utf8库

这种支持相比语言层面彻底支持UTF-8的Python,Golang,Rust等语言来说，很多细节依然需要使用者去考虑编码的问题。
