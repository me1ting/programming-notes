# mysql的字符集与排序规则-基本概念

`字符集`是字符的集合与编码方式，`排序规则`规定了字符大小和相等性。

## 字符集

字符集的相关知识不是本文关注的问题，这里预设了你了解字符集的通用概念，知道ascii,gb2312,gbk,unicode,utf-8等缩写的含义。

这里仅关注mysql对字符集的支持。

## utf8mb3与utf8mb4

mysql的utf8编码有两个主流实现：`utf8mb3`,`utf8mb4`，这让人大为困惑。

这是历史原因造成的，unicode标准在过去20年不断的发展，mysql对于unicode的支持也在不断完善。

`utf8mb3`是对utf-8编码的不完整支持，其中`mb3`是`max bytes 3`的缩写，`utf8mb3`只支持utf-8中最大长度为3个字节的编码。

`utf8mb4`是对utf-8编码最新的支持，支持最大长度为4个字节的编码。

# 排序规则

**对中英文而言**，字符中只有`英文字母`,`数字`存在可比性，默认编码方案也一般遵循通用的排序规则：

- 0<1<2...<9
- a<b<.....<\z
- A<B<....<\Z

但即使是在中英文环境下，a和A究竟谁大等问题，都是存在争议的，需要按照某种排序规则才能说明白。

而在其它语言环境，有着不同的排序规则。

MySQL对这些规则进行了研究和总结，提出了一些解决方案。

## `mysqlmb4_bin`

`_bin`后缀表明字符按照其`utf-8`代码点进行排序。

//more
# 总结

`字符集`是计算机领域的常识。字符集的`排序规则`是字符集领域的专业知识，除非涉及到相关问题，了解有这么个概念就行了。

如果使用的是mysql8，不需要担心字符集和排序规则的设置，默认的`utf8mb4`与`utf8mb4_0900_ai_ci`足以满足大部分应用场景。

如果使用的是旧版本mysql，默认的字符集和排序规则通常不满足需求，手动设置为mysql8的默认字符集和排序规则。