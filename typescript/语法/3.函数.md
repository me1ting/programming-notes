# 函数的类型
TypeScript引入了类型系统，函数也拥有实体类型的。

## 函数类型表达式
最简单的是使用`函数类型表达式`，采用类似`箭头函数`的语法：
```typescript
function greeter(fn: (a: string) => void) {
  fn("Hello, World");
}
```

## 带有属性的函数的类型
在JavaScript中，函数是`Function`类型的对象，除了可以被调用，**它们也具有自己的属性和方法**。

>这个概念很容易被多语言使用者所遗忘，这是正常的。细节参考《JavaScript高级程序设计4》10.函数

为了兼容带有属性的函数，TypeScript提供了[调用签名](https://www.typescriptlang.org/docs/handbook/2/functions.html#call-signatures)语法。

## 构造器签名
[构造器签名](https://www.typescriptlang.org/docs/handbook/2/functions.html#construct-signatures)用于匹配构造器类型的函数。

## （补充）异步函数的类型
目前（2023.01），TypeScript并没有对异步函数的类型提供特别语法支持，你只需要返回值类型为`Promise`即可：
```typescript
export interface ElectronAPI {
     openFolder: () => Promise<string | undefined>
}
```

参考 [In typescript, how to define type of async function](https://stackoverflow.com/questions/38744159/in-typescript-how-to-define-type-of-async-function)

# 可选参数
JavaScript的参数是**隐式可选**的，你可以传递少于形式参数个数的参数，按照索引顺序填充，未提供值的参数，其读取值为`undefined`；你也可以传递多余形式参数个数的参数，同样按照索引顺序填充，多余的参数是无效的。（细节见《JavaScript高级程序设计4》10.3理解参数）

TypeScript将`可选参数`语法化，其逻辑与JavaScript保持一致（按照索引填充，未填充的参数的读取值为undefined）：
```typescript
function f(x?: number) {
  // ...
}
```
# 参数默认值
ES6支持`参数默认值`语法，但是语法细节追究起来让人烦扰（比如`运行时求值`、`暂时性死区`，细节见《JavaScript高级程序设计4》10.5默认参数）。

个人的观点是，尽量避免使用复杂的默认值参数语法，而应当在函数内部使用普通代码来计算需要用到的值。

TypeScript继承了[参数默认值语法](https://www.typescriptlang.org/docs/handbook/2/functions.html#optional-parameters)。


# 泛型函数
//waiting

# 函数重载
JavaScript不支持函数重载，但TypeScript支持。

//waiting

# 函数相关的类型

## void
不返回值的函数的返回值占用符。

## object
值得关注，虽然目前文档看得不太懂。

//waiting

## unknown
类似`any`，区别在于`unknown`类型值做任何操作都是不合法的。

用途是编写比使用`any`更安全的代码。

## never
永不返回的函数的返回值，这样的函数会抛出异常或中断运行。

## Function
表示函数类型，这样的函数可以调用但返回`any`。

# 解构赋值
[解构](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)是ES6增加的比较复杂的语法，TypeScript也提供了[支持](https://www.typescriptlang.org/docs/handbook/2/functions.html#parameter-destructuring)。

//waiting

# 