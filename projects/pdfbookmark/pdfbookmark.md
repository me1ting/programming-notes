# 简介

需要一个pdf书签工具能够提取和写入书签，在Windows上可以使用`FreePic2Pdf`这个GUI工具，但是在Linux没有类似的工具，因此只能自己动手。

# 尝试1：使用MUPDF Library

一个独立的GUI或者命令行程序是最理想的结果。但在尝试过程中却是一波三折。

先是使用`C`+`MUPDF`，用习惯了现代语言，C使用起来很不方便，最终放弃。

然后是使用`C++`+`MUPDF`，C/C++风格的API如果不是老手，看着确实头疼，相比现代语言来说费心智。对于C++本来就不熟悉，好不容易写了点代码，编译又是个麻烦事。

编译结果接近40M，因为不是C++老手，如何裁剪依赖完全不懂，因此只能放弃。

而且执行该文件还报内存分配错误，也就是失败了。

# 尝试2：使用PYPDF2

Python下这个库用的人比较多，但个人研究后，发现`PYPDF2`可能没法满足项目需求。

# 尝试3：使用pdfbox

以前使用过pdfbox，由于是Java库，作为命令行工具很不方便。但是个人更看重开发效率，至于命令行的问题，可以使用一个wrapper来减轻不便性。

使用Java+pdfbox总共花了5个小时，就编写出了目标软件，并较好的实现了命令行功能。

# 总结

本项目的有两个收获：

- 对于个人工具，除非对性能、文件大小存在很高的要求，核心点依然是开发效率和功能。使用Java,Python,JavaScript...非编译型语言都是可以的。
- 如何使用Java来编写命令行工具？以前我一直以为这是不可能的，但在`Gradle`的的帮助下，出色的完成了这项任务。

# Refs

[github: pdfbookmark](https://github.com/me1ting/pdfbookmark)