`动态内存`指堆内存，在动态内存上创建的对象由应用程序自身进行管理。

# new&delete

在C中，人们使用alloc函数来分配动态内存，在C++中使用语法进行了包装：

- new 分配动态内存
- delete 释放动态内存

对动态内存的错误使用会造成内存泄漏或非法指针，这很容易发生，因为C++语言本身不会对这种情况做出限制。

# 智能指针

`智能指针`是C++对上述语法做出的功能改进，通过标准库而非新增语法的形式进行了更新，底层为模板。

所有智能指针以类的形式体现，包括：

- unique_ptr
- shared_ptr
- weak_ptr

## shared_ptr

允许多个该类型的指针同时指向同一个对象，操作继承了指针的操作，新增了一些操作。

使用`make_shared`函数创建该类型指针，理论上使用引用计数来自动释放指针所指对象。

### 使用成本

shared_ptr不能避免内存泄漏问题，一些不需要的内存因为指针存活而一直得不到释放。对于容器类，需要使用`erase`方法来释放其中不需要的元素。
