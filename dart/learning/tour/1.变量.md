# 变量

## 默认值
`可空类型`的默认值为`null`，`非空类型`必须初始化才能被使用。

局部变量可以声明而非立即初始化，只要后续初始化即可（大多数变量需要初始化的语言也是这样处理的）。

## `late`变量
`late`变量打破了上述`顶级变量`或者`实例字段`必须立即初始化的要求，`late`使得其修饰的变量可以延迟初始化：第一次访问时才初始化，以满足：

- 优化性能
- 语法需求：dart区分初始化过程和构造体，无法在构造体中初始化字段，而`late`使得可以这样做

## final与const
`final`表示运行时不可变量（类似js的`const`,java的`final`），`const`表示编译时常量。

### const值
`const`修饰值（字面值）时，表示值在编译时生成：
```dart
var foo = const [];
final bar = const [];
const baz = []; // Equivalent to `const []`
```

const常量所指向的const值可以省略后者的`const`。

#### 疑惑
dart对于编译时值和运行时值在语法上区别从语义上来讲有一定意义，从性能上来讲也有一定意义，但作为一门写UI语言，这要求是不是太高了。

我只在C++和Rust这样偏底层语言看到过这样扣语法细节来满足特定需求（主要是为了性能），但在dart中没看到这样做的必要。

一个理解dart典型的场景是：
```dart
final bar = []; //final变量是可以修改的，只是不能将final变量指向其它对象
final bar2 = const [];//现在既不可以修改final变量指向的对象，也不能修改该对象的字段
```
那我为何不用`const bar2`呢？
